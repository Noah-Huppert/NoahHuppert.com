# Use container based infrastructure
sudo: false

language: ruby
rvm:
    - 2.2.2

# Use MySQL database for tests
services:
    # - mysql

before_script:
    # Setup MySQL database for tests
    # - mysql -e 'CREATE DATABASE onyx_test'
    # Install Bower libs
    # - npm install -g bower
    # - bower install

# Run tests, right now there are none, so return 0
script: return 0

# Deploy To Openshift
deploy:
    provider: openshift
    user: noahhuppert@gmail.com
    password:
        secure: GODmU1SxOafBKN5EtqZzHZGx+WlV9wBnFn66D3HjTsUVyuWrWFzJQ9RR0PElibyw9+fX4xt4ThaK4HhcgP8YNmy+T1NgIz7ZNGM2yWF9bMyGeCMKKnbdZ9oAvKod3PVtZOsxdfl+h0mU+IDySDr2nu34adyX5sZe/Dy6XMiq0X4=
    app: onyx
    domain: noahhuppert
    on:
        repo: Noah-Huppert/NoahHuppert.com
        branch: onyx-sinatra

env:
    - RACK_ENV=test
