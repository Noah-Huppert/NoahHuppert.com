<!DOCTYPE HTML>
<html>
<head>
  <title>NoahHuppert.com</title>

  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">

  <script src="/bower/webcomponentsjs/webcomponents.min.js"></script>

  <link rel="import" href="/client/js/jquery-import.html">

  <script src="/bower/routie/dist/routie.min.js"></script>

  <link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet" type="text/css"><!-- Collection: http://www.google.com/fonts/#UsePlace:use -->
  <link href="/client/css/styles.css" rel="stylesheet" type="text/css">

  <link rel="import" href="/bower/polymer/polymer.html">
  <link rel="import" href="/bower/core-ajax/core-ajax.html">
  <link rel="import" href="/bower/core-header-panel/core-header-panel.html">
  <link rel="import" href="/bower/core-toolbar/core-toolbar.html">
  <link rel="import" href="/bower/paper-button/paper-button.html">
  <link rel="import" href="/bower/paper-icon-button/paper-icon-button.html">
  <link rel="import" href="/bower/paper-tabs/paper-tabs.html">
  <link rel="import" href="/bower/core-pages/core-pages.html">
  <link rel="import" href="/bower/paper-progress/paper-progress.html">
  <link rel="import" href="/bower/paper-fab/paper-fab.html">
  <link rel="import" href="/bower/paper-shadow/paper-shadow.html">
  <link rel="import" href="/bower/paper-input/paper-input.html">
  <link rel="import" href="/bower/paper-input/paper-input-decorator.html">
  <link rel="import" href="/bower/paper-input/paper-autogrow-textarea.html">
  <link rel="import" href="/bower/paper-icon-button/paper-icon-button.html">

  <link rel="import" href="/client/components/server-markdown.html">
  <link rel="import" href="/client/components/raw-html.html">
</head>

<body fullbleed unresolved>
  <template id="template" is="auto-binding">
    <div id="loading">
      <paper-button id="loading-report-error-button" class="background-secondary" on-tap="{{ShowLoadingReportErrorInstructions}}" title="Email noah.programmer@gmail.com" raised>REPORT ERROR</paper-button>
      <paper-shadow id="loading-report-error-instructions" class="card">
        <div class="title">Email <a href="{{ReportErrorMailto}}" target="_blank">noah.programmer@gmail.com</a></div>
        <div class="content">
          It helps if you include:
          <ul>
            <li>Your browser name and version</li>
            <li>Description of where on the site the error occured</li>
            <li>Error message, if present</li>
            <li>
              Contents of the developer console(Opening console in
              <a href="https://developer.chrome.com/devtools/docs/console">Chrome</a>,
              <a href="https://developer.mozilla.org/en-US/docs/Tools/Web_Console">Firefox</a>,
              or <a href="http://help.opera.com/Linux/10.50/en/devtools.html">Opera</a>)
            </li>
          </ul>
        </div>
      </paper-shadow>

      <div id="loading-title-message">Loading</div>
      <paper-progress indeterminate></paper-progress>
      <div id="loading-progress-message">{{LoadingProgressMessage}}</div>
    </div>

    <core-header-panel>
      <core-toolbar id="toolbar" class="background-primary">
        <span id="toolbar-title" flex>Noah Huppert</span>

        <!-- User Authenticated -->
        <template if="{{UserAuthenticated}}">

          <paper-button class="background-secondary" raised>
            <a href="{{GetLogoutUrl()}}">Logout</a>
          </paper-button>

          <paper-icon-button id="toolbar-user-avatar" src="{{User.avatar}}" title="{{User.name}}"></paper-icon-button>

        </template>

        <!-- User UnAuthenticated -->
        <template if="{{!UserAuthenticated}}">

          <paper-button class="background-secondary" raised>
            <a href="/api/v1/auth/google/connect">Login</a>
          </paper-button>

        </template>

        <div class="bottom fit" horizontal center-justified layout>
          <paper-tabs id="toolbar-tabs" selected="{{SelectedPageIndex}}" flex>
            <paper-tab onclick="routie('projects');">Projects</paper-tab>
            <paper-tab onclick="routie('skills');">Skills</paper-tab>
            <paper-tab onclick="routie('contact');">Contact</paper-tab>
            <paper-tab onclick="routie('about');">About Me</paper-tab>
          </paper-tabs>
        </div>
      </core-toolbar>

      <core-pages selected="{{SelectedPageIndex}}">
        <!-- Projects -->
        <div class="page" id="page-projects">
          <template if="{{User.admin}}">
            <paper-fab id="add-project-fab" on-tap="{{ShowCreateProjectBox}}" icon="add"></paper-fab>
          </template>

          <template if="{{ShouldShowCreateProjectBox}}">
            <paper-shadow class="card" id="create-project-box">
              <paper-tabs class="background-secondary" selected="{{CreateProjectTab}}">
                <paper-tab>Compose</paper-tab>
                <paper-tab>Preview</paper-tab>
              </paper-tabs>

              <template if="{{NewProjectError.length !== 0}}">
                <div id="create-project-error">{{NewProjectError}}</div>
              </template>

              <div class="content">
                <core-pages selected="{{CreateProjectTab}}">
                  <div id="create-project-compose" class="create-project-page">
                    <label style="margin-top: 0px;">Title:</label>
                    <paper-input type="text" label="Super cool project title" value="{{NewProject.title}}"></paper-input>

                    <label>Content:</label>
                    <paper-input-decorator label="A fantastic description">
                      <paper-autogrow-textarea>
                        <textarea id="create-project-content" value="{{NewProject.content}}" required></textarea>
                      </paper-autogrow-textarea>
                    </paper-input-decorator>

                    <label>Content Preview:</label>
                    <paper-shadow class="card">
                      <server-markdown id="content-preview" accessToken="{{LoginSession.accessToken}}" src="{{NewProject.content}}"></server-markdown>
                    </paper-shadow>

                    <label>Github:</label>
                    <paper-input type="text" label="Username/Repo" value="{{NewProject.github}}"></paper-input>

                    <label>Website: </label>
                    <paper-input type="text" label="http://www.cool.io" value="{{NewProject.website}}"></paper-input>

                    <label>Date:</label>
                    <paper-input-decorator id="create-project-date">
                      <input type="date" value="{{NewProject.date}}">
                    </paper-input-decorator>

                    <paper-button on-tap="{{HideCreateProjectBox}}" class="background-secondary">Cancel</paper-button>
                    <paper-button on-tap="{{CreateProject}}" class="background-primary" raised>Create</paper-button>
                  </div>

                  <div class="create-project-page">
                    <div class="title">
                      {{NewProject.title}}
                      <span class="subtitle">{{GetNewProjectDateString()}}</span>
                    </div>
                    <div class="content">
                      <server-markdown accessToken="{{LoginSession.accessToken}}" src="{{NewProject.content}}"></server-markdown>
                    </div>
                  </div>
                </core-pages>
              </div>

            </paper-shadow>
          </template>

          <template if="{{!ShouldShowCreateProjectBox}}">
            <template repeat="{{project in Projects}}">
              <paper-shadow class="card">
                <div class="title">
                  {{project.title}}
                  <div class="subtitle">{{GetProjectDateString(project)}}</div>
                </div>
                <div class="content">
                  <raw-html content="{{project.content}}"></raw-html>
                </div>

                <template if="{{project.github || project.website}}">
                  <div class="footer">
                    <template if="{{project.github !== undefined}}">
                      <a class="extra-icon" href="https://github.com/{{project.github}}" target="_blank">
                        <paper-icon-button src="/client/img/github.png"></paper-icon-button>
                      </a>
                    </template>

                    <template if="{{project.website !== undefined}}">
                      <a class="extra-icon" href="{{project.website}}" target="_blank">
                        <paper-icon-button src="/client/img/website.png"></paper-icon-button>
                      </a>
                    </template>

                    <template if="{{User.admin}}">
                      <paper-icon-button class="project-edit" src="/client/img/edit.png"></paper-icon-button>
                    </template>
                  </div>
                </template>
              </paper-shadow>
            </template>
          </template>
        </div>

        <!-- Skills -->
        <div class="page" id="page-skills">
          <paper-shadow class="card">
            <div class="title">Work In Progress</div>
            <div class="content">
              The Skills page is still a work in progress.
            </div>
          </paper-shadow>
        </div>

        <!-- Contact -->
        <div class="page" id="page-contact">
          <paper-shadow class="card">
            <div class="title">Work In Progress</div>
            <div class="content">
              The Contact page is still a work in progress.
            </div>
          </paper-shadow>
        </div>

        <!-- About Me -->
        <div class="page" id="page-about">
          <paper-shadow class="card">
            <div class="title">Work In Progress</div>
            <div class="content">
              The About Me page is still a work in progress.
            </div>
          </paper-shadow>
        </div>
      </core-pages>
    </core-header-panel>

    <script src="/client/js/client.js"></script>
  </template>
</body>
</html>
